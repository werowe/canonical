{"paragraphs":[{"text":"from tensorflow.python.client import device_lib\n\ndef get_available_gpus():\n    local_device_protos = device_lib.list_local_devices()\n    return [x.name for x in local_device_protos if x.device_type == 'GPU']\n\nget_available_gpus()","user":"admin","dateUpdated":"2018-08-14T08:22:52+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"['/device:GPU:0']"}]},"apps":[],"jobName":"paragraph_1534234896482_-1484549924","id":"20180814-082136_923283902","dateCreated":"2018-08-14T08:21:36+0000","dateStarted":"2018-08-14T08:22:52+0000","dateFinished":"2018-08-14T08:22:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1755"},{"text":"import tensorflow as tf\nimport numpy as np\nimport datetime\n\na = tf.constant(np.random.rand(3000,3000), shape=[3000, 3000], name='a')\n\nb = tf.constant(np.random.rand(3000,3000), shape=[3000, 3000], name='b')\n\nstart = datetime.datetime.now()\n\nprint(\"gpu start=\", start)\n\nwith tf.device('/device:GPU:0'):\n   c = tf.matmul(a, b)\n \nwith tf.Session() as sess:\n   print (sess.run(c))\n   \nsess.close()\n    \nend = datetime.datetime.now()\n\nprint(\"gpu end=\", end)\n\nprint(\"gpu elapsed=\", end - start)\n\nnp.random.rand(3,2)\n\nstart = datetime.datetime.now()\nprint(\"cpu start=\", start)\n\nwith tf.device('/device:CPU:0'):\n    c = tf.matmul(a, b)\n \nwith tf.Session() as sess:\n    print (sess.run(c))\n\nsess.close()\n    \nend = datetime.datetime.now()\n\nprint(\"cpu end=\", end)\n\nprint(\"cpu elapsed=\", end - start)\n\n","user":"admin","dateUpdated":"2018-08-14T08:58:09+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"gpu start= 2018-08-14 08:58:11.531990\n[[731.65856204 755.03216666 731.01332315 ... 742.02574247 721.7573203\n  741.2362813 ]\n [750.27169787 759.45097527 744.34209968 ... 749.1354498  726.62599366\n  764.90778116]\n [757.59290116 753.03045082 740.60354459 ... 737.88432142 730.34395465\n  752.24906118]\n ...\n [743.48683814 769.13698407 745.91677294 ... 742.6314046  733.34832746\n  752.82669609]\n [738.98140162 752.48806646 735.45609721 ... 731.98215031 711.24437664\n  751.08243092]\n [772.41347335 782.92036891 752.89497553 ... 773.6986683  750.34947917\n  772.76941506]]\ngpu end= 2018-08-14 08:58:30.366257\ngpu elapsed= 0:00:18.834267\ncpu start= 2018-08-14 08:58:30.366500\n[[731.65856204 755.03216666 731.01332315 ... 742.02574247 721.7573203\n  741.2362813 ]\n [750.27169787 759.45097527 744.34209968 ... 749.1354498  726.62599366\n  764.90778116]\n [757.59290116 753.03045082 740.60354459 ... 737.88432142 730.34395465\n  752.24906118]\n ...\n [743.48683814 769.13698407 745.91677294 ... 742.6314046  733.34832746\n  752.82669609]\n [738.98140162 752.48806646 735.45609721 ... 731.98215031 711.24437664\n  751.08243092]\n [772.41347335 782.92036891 752.89497553 ... 773.6986683  750.34947917\n  772.76941506]]\ncpu end= 2018-08-14 08:58:41.703231\ncpu elapsed= 0:00:11.336731\n"}]},"apps":[],"jobName":"paragraph_1534234972059_-75099359","id":"20180814-082252_947444673","dateCreated":"2018-08-14T08:22:52+0000","dateStarted":"2018-08-14T08:58:09+0000","dateFinished":"2018-08-14T08:58:41+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:1756"},{"user":"admin","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"python","editOnDblClick":false,"completionSupport":true},"editorMode":"ace/mode/python"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1534236490816_819015229","id":"20180814-084810_450042605","dateCreated":"2018-08-14T08:48:10+0000","status":"READY","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:2237"}],"name":"speed","id":"2DNPT8RRM","noteParams":{},"noteForms":{},"angularObjects":{"python:shared_process":[],"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}